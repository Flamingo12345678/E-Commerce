{% extends 'base.html' %}

{% block title %}Paiement Échoué - YEE E-Commerce{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
            <div class="card border-danger shadow">
                <div class="card-body py-5">
                    <!-- Icône d'erreur -->
                    <div class="mb-4">
                        <i class="bi bi-x-circle-fill text-danger" style="font-size: 5rem;"></i>
                    </div>
                    
                    <!-- Titre principal -->
                    <h1 class="text-danger mb-3">❌ Paiement Échoué</h1>
                    <h2 class="mb-4">Votre paiement n'a pas pu être traité</h2>
                    
                    <!-- Message d'erreur -->
                    <div class="alert alert-danger border-0">
                        <h5><i class="bi bi-exclamation-triangle"></i> Que s'est-il passé ?</h5>
                        <p class="mb-0">
                            Votre paiement n'a pas pu être traité pour l'une des raisons suivantes :
                        </p>
                    </div>
                    
                    <!-- Raisons possibles -->
                    <div class="card bg-light border-0 my-4">
                        <div class="card-body">
                            <h6>Causes possibles :</h6>
                            <div class="row text-start">
                                <div class="col-md-6">
                                    <ul class="list-unstyled">
                                        <li class="mb-2">
                                            <i class="bi bi-dot text-danger"></i>
                                            Solde insuffisant sur votre carte
                                        </li>
                                        <li class="mb-2">
                                            <i class="bi bi-dot text-danger"></i>
                                            Carte expirée ou bloquée
                                        </li>
                                        <li class="mb-2">
                                            <i class="bi bi-dot text-danger"></i>
                                            Informations de carte incorrectes
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="list-unstyled">
                                        <li class="mb-2">
                                            <i class="bi bi-dot text-danger"></i>
                                            Limite de paiement dépassée
                                        </li>
                                        <li class="mb-2">
                                            <i class="bi bi-dot text-danger"></i>
                                            Problème technique temporaire
                                        </li>
                                        <li class="mb-2">
                                            <i class="bi bi-dot text-danger"></i>
                                            Sécurité bancaire activée
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Que faire maintenant -->
                    <div class="alert alert-info border-0">
                        <h6><i class="bi bi-lightbulb"></i> Que faire maintenant ?</h6>
                        <p class="mb-0">
                            Vérifiez vos informations de paiement et réessayez. 
                            Si le problème persiste, contactez votre banque ou essayez une autre méthode de paiement.
                        </p>
                    </div>
                    
                    <!-- Actions -->
                    <div class="d-grid gap-3 d-md-flex justify-content-md-center mt-4">
                        <a href="{% url 'payment_options' %}" class="btn btn-primary btn-lg">
                            <i class="bi bi-arrow-clockwise"></i> Réessayer le paiement
                        </a>
                        <a href="{% url 'store:cart' %}" class="btn btn-outline-primary btn-lg">
                            <i class="bi bi-cart"></i> Retour au panier
                        </a>
                        <a href="{% url 'index' %}" class="btn btn-outline-secondary btn-lg">
                            <i class="bi bi-house"></i> Retour à l'accueil
                        </a>
                    </div>
                    
                    <!-- Conseils -->
                    <div class="card bg-warning bg-opacity-10 border-warning mt-4">
                        <div class="card-body">
                            <h6><i class="bi bi-info-circle text-warning"></i> Conseils pour réussir votre paiement</h6>
                            <div class="row text-start">
                                <div class="col-md-6">
                                    <ul class="small mb-0">
                                        <li>Vérifiez que votre carte n'est pas expirée</li>
                                        <li>Assurez-vous d'avoir le solde suffisant</li>
                                        <li>Vérifiez les informations saisies</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="small mb-0">
                                        <li>Contactez votre banque si nécessaire</li>
                                        <li>Essayez PayPal comme alternative</li>
                                        <li>Attendez quelques minutes avant de réessayer</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Support -->
                    <div class="mt-5 pt-4 border-top">
                        <h6 class="text-muted">Toujours des problèmes ?</h6>
                        <p class="text-muted small">
                            Notre équipe de support est là pour vous aider à résoudre 
                            tout problème de paiement que vous pourriez rencontrer.
                        </p>
                        <div class="d-flex justify-content-center gap-3">
                            <a href="#" class="btn btn-outline-primary btn-sm">
                                <i class="bi bi-headset"></i> Contacter le support
                            </a>
                            <a href="#" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-question-circle"></i> FAQ Paiements
                            </a>
                        </div>
                    </div>
                    
                    <!-- Note de sécurité -->
                    <div class="mt-4">
                        <small class="text-muted">
                            <i class="bi bi-shield-check"></i>
                            Rassurez-vous : aucun montant n'a été débité de votre compte. 
                            Vos informations de paiement sont sécurisées et ne sont pas stockées sur nos serveurs.
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Auto-scroll vers le haut
    window.scrollTo(0, 0);
    
    // Animation de l'icône d'erreur
    const errorIcon = document.querySelector('.bi-x-circle-fill');
    if (errorIcon) {
        errorIcon.style.transform = 'scale(0)';
        errorIcon.style.transition = 'transform 0.5s ease-out';
        
        setTimeout(() => {
            errorIcon.style.transform = 'scale(1)';
        }, 200);
    }
});
</script>
{% endblock %}